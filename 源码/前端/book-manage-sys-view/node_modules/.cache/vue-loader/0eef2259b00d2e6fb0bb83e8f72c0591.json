{"remainingRequest":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\src\\views\\admin\\CreateNotice.vue?vue&type=style&index=0&id=bd4d6924&lang=scss&scoped=true&","dependencies":[{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\src\\views\\admin\\CreateNotice.vue","mtime":1724313134000},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbnB1dCB7DQogICAgb3V0bGluZTogbm9uZTsNCiAgICBib3JkZXI6IG5vbmU7DQogICAgd2lkdGg6IDEwMCU7DQogICAgcGFkZGluZzogMThweCAxMnB4Ow0KICAgIGZvbnQtc2l6ZTogMjRweDsNCiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgICBmb250LXdlaWdodDogYm9sZDsNCn0NCg0KLm9wZXJhdGlvbi1idG4gew0KICAgIHBhZGRpbmc6IDE0cHggNDBweDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjM1LCAyMzcsIDI0NSk7DQogICAgY29sb3I6IHJnYig0MywgMTIxLCAyMDMpOw0KICAgIGJvcmRlcjogbm9uZTsNCiAgICBmb250LXNpemU6IDEycHg7DQogICAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICAgIGN1cnNvcjogcG9pbnRlcjsNCn0NCg=="},{"version":3,"sources":["CreateNotice.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateNotice.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n    <div style=\"background-color: rgb(248, 249, 250);\">\r\n        <div style=\"width: 800px;margin: 0 auto;padding: 30px 0;box-sizing: border-box;min-height: 100vh;\">\r\n            <p style=\"font-size: 22px;padding: 20px 0;\">{{ noticeOperation === 'save' ? '公告新增' : '公告修改' }}</p>\r\n            <div>\r\n                <div style=\"margin: 20px 0;\">\r\n                    <input type=\"text\" placeholder=\"标题\" v-model=\"notice.name\">\r\n                </div>\r\n                <div>\r\n                    <Editor height=\"calc(100vh - 500px)\" :receiveContent=\"notice.content\" @on-receive=\"receiveData\" />\r\n                </div>\r\n            </div>\r\n            <div style=\"margin: 20px 0;text-align: center;\">\r\n                <span class=\"operation-btn\" @click=\"operation\">\r\n                    {{ noticeOperation === 'save' ? '立即新增' : '立即修改' }}\r\n                    <i class=\"el-icon-right\"></i>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Editor from \"@/components/Editor\"\r\nexport default {\r\n    components: { Editor },\r\n    data() {\r\n        return {\r\n            notice: {},\r\n            saveApi: '/notice/save',\r\n            updateApi: '/notice/update',\r\n            noticeOperation: ''\r\n        }\r\n    },\r\n    created() {\r\n        this.loadOperation();\r\n    },\r\n    methods: {\r\n        operation() {\r\n            if (this.noticeOperation === 'save') {\r\n                this.save();\r\n                return;\r\n            }\r\n            this.update();\r\n        },\r\n        loadOperation() {\r\n            const operation = sessionStorage.getItem('noticeOperation');\r\n            console.log(operation);\r\n            if (operation === 'update') {\r\n                const notice = sessionStorage.getItem('noticeInfo');\r\n                this.notice = JSON.parse(notice);\r\n            }\r\n            this.noticeOperation = sessionStorage.getItem('noticeOperation');\r\n        },\r\n        receiveData(html) {\r\n            this.notice.content = html;\r\n        },\r\n        update() {\r\n            this.$axios.put(this.updateApi, this.notice).then(response => {\r\n                if (response.data.code === 200) {\r\n                    this.$swal.fire({\r\n                        title: '公告修改',\r\n                        text: '修改成功',\r\n                        icon: 'success',\r\n                        showConfirmButton: false,\r\n                        timer: 1000,\r\n                    });\r\n                    // 返回上一级\r\n                    this.$router.go(-1);\r\n                }\r\n            });\r\n        },\r\n        save() {\r\n            this.$axios.post(this.saveApi, this.notice).then(response => {\r\n                if (response.data.code === 200) {\r\n                    this.$swal.fire({\r\n                        title: '公告新增',\r\n                        text: '新增成功',\r\n                        icon: 'success',\r\n                        showConfirmButton: false,\r\n                        timer: 1000,\r\n                    });\r\n                    // 返回上一级\r\n                    this.$router.go(-1);\r\n                }\r\n            });\r\n        },\r\n    }\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\ninput {\r\n    outline: none;\r\n    border: none;\r\n    width: 100%;\r\n    padding: 18px 12px;\r\n    font-size: 24px;\r\n    box-sizing: border-box;\r\n    border-radius: 5px;\r\n    font-weight: bold;\r\n}\r\n\r\n.operation-btn {\r\n    padding: 14px 40px;\r\n    background-color: rgb(235, 237, 245);\r\n    color: rgb(43, 121, 203);\r\n    border: none;\r\n    font-size: 12px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n}\r\n</style>"]}]}