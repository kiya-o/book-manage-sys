{"remainingRequest":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\src\\views\\login\\Login.vue?vue&type=style&index=0&id=2529d779&lang=scss&scoped=true&","dependencies":[{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\src\\views\\login\\Login.vue","mtime":1734963689012},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCiogew0KICAgIHVzZXItc2VsZWN0OiBub25lOw0KfQ0KDQoubG9naW4tY29udGFpbmVyIHsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBtaW4taGVpZ2h0OiAxMDB2aDsNCiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9iZy5qcGcnKTsgLy8g5L2/55So6IOM5pmv5Zu+54mH77yM5qC55o2u5a6e6ZmF6aG555uu5Lit5Zu+54mH5a2Y5pS+6Lev5b6E6LCD5pW05q2k5aSEDQogICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiByaWdodDsNCiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0Ow0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KfQ0KDQoubG9naW4tcGFuZWwgew0KICAgIHBvc2l0aW9uOiBmaXhlZDsgLyog5oiW6ICFIHJlbGF0aXZlLCBmaXhlZCwgc3RpY2t5IOetiSAqLw0KICAgIHRvcDogNTBweDsgLyog5qC55o2u6ZyA6KaB6LCD5pW0ICovDQogICAgcmlnaHQ6IDUwcHg7DQogICAgcGFkZGluZzogMTVweDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgaGVpZ2h0OiBhdXRvOw0KICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsIHJnYigyNTUsIDI1NSwgMjU1KSwgcmdiYSgxNjUsIDE3NCwgMTcxLCAwLjgpKTsNCiAgICBtYXJnaW4tcmlnaHQ6IDQ1cHg7IC8vIOehruS/nS5sb2dpbi1wYW5lbOS9jeS6juiDjOaZr+eahOWPs+S+pw0KfQ0KDQoucmlnaHQtbG9naW4gew0KICAgIHdpZHRoOiAyNTBweDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsNCiAgICBwYWRkaW5nOiAzMHB4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCn0NCg0KLmxvZ28gew0KICAgIG1hcmdpbjogMTBweCAwIDMwcHggMDsNCn0NCg0KLmFjdCwNCi5wd2Qgew0KICAgIG1hcmdpbjogOHB4IDA7DQogICAgaGVpZ2h0OiA2M3B4Ow0KICAgIGxpbmUtaGVpZ2h0OiA2M3B4Ow0KICAgIHdpZHRoOiAxMDAlOw0KICAgIGZvbnQtc2l6ZTogMjBweDsNCiAgICBmb250LWZhbWlseTogJ1NlZ29lIFVJJywgVGFob21hLCBHZW5ldmEsIFZlcmRhbmEsIHNhbnMtc2VyaWY7DQogICAgZm9udC13ZWlnaHQ6IDgwMDsNCiAgICBwYWRkaW5nOiAwIDhweDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQ3LCAxOTUsIDE0NSwgMC4xNSk7DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICBib3JkZXI6IDJweCBzb2xpZCByZ2JhKDQ3LCAxOTUsIDE0NSwgMC4zKTsNCiAgICBib3JkZXItcmFkaXVzOiA2cHg7DQogICAgcGFkZGluZzogMCAxNXB4Ow0KICAgIG1hcmdpbi10b3A6IDEzcHg7DQp9DQoNCi5hY3Q6Zm9jdXMsDQoucHdkOmZvY3VzIHsNCiAgICBvdXRsaW5lOiBub25lOw0KICAgIHRyYW5zaXRpb246IDEuMnM7DQogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg0NywgMTk1LCAxNDUsIDAuMjUpOw0KfQ0KDQoubG9naW4tYnRuOmhvdmVyIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQ3LCAxOTUsIDE0NSwgMC44KTsNCn0NCg0KLmxvZ2luLWJ0biB7DQogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBib3JkZXItcmFkaXVzOiAzcHg7DQogICAgbWFyZ2luLXRvcDogMjBweDsNCiAgICBoZWlnaHQ6IDQzcHg7DQogICAgbGluZS1oZWlnaHQ6IDQzcHg7DQogICAgd2lkdGg6IDEwMCU7DQogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDQ3LCAxOTUsIDE0NSk7DQogICAgZm9udC1zaXplOiAxNHB4IWltcG9ydGFudDsNCiAgICBib3JkZXI6IG5vbmU7DQogICAgY29sb3I6IHdoaXRlOw0KICAgIHBhZGRpbmc6IDAhaW1wb3J0YW50Ow0KICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICB1c2VyLXNlbGVjdDogbm9uZTsNCn0NCg0KLnRpcCB7DQogICAgbWFyZ2luOiAyMHB4IDA7DQoNCiAgICBwIHsNCiAgICAgICAgcGFkZGluZzogM3B4IDA7DQogICAgICAgIG1hcmdpbjogMDsNCiAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICBjb2xvcjogcmdiKDEwMCwgMTIwLCAxMDApOw0KICAgICAgICBpIHsNCiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogM3B4Ow0KICAgICAgICB9DQoNCiAgICAgICAgc3BhbiB7DQogICAgICAgICAgICBjb2xvcjogcmdiKDYwLCA4MCwgNjApOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4Ow0KICAgICAgICAgICAgbWFyZ2luOiAwIDZweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5uby1hY3Q6aG92ZXIgew0KICAgICAgICAgICAgY29sb3I6IHJnYmEoNDcsIDE5NSwgMTQ1LCAwLjgpOw0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\r\n    <div class=\"login-container\">\r\n        <div style=\"display: flex;justify-content: left;margin: 20px 0;\">\r\n        </div>\r\n        <div class=\"login-panel\">\r\n            <div style=\"width: 250px;padding: 10px;display: flex;justify-content: center;align-items: center;\">\r\n            </div>\r\n            <div class=\"right-login\">\r\n                <div>\r\n                    <h2>登录账户</h2>\r\n                </div>\r\n                <div class=\"text\">\r\n                    <input v-model=\"act\" class=\"act\" placeholder=\"请输入账号\" />\r\n                </div>\r\n                <div class=\"text\">\r\n                    <input v-model=\"pwd\" class=\"pwd\" type=\"password\" placeholder=\"请输入密码\" />\r\n                </div>\r\n                <div>\r\n                    <span class=\"login-btn\" @click=\"login\">立即登录</span>\r\n                </div>\r\n                <div class=\"tip\">\r\n                    <p>没有账号？<span class=\"no-act\" @click=\"toDoRegister\">点此注册</span></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nconst DELAY_TIME = 1300;\r\nimport request from \"@/utils/request.js\";\r\nimport { setToken } from \"@/utils/storage.js\";\r\nimport md5 from 'js-md5';\r\nimport Logo from '@/components/Logo.vue';\r\nexport default {\r\n    name: \"Login\",\r\n    components: { Logo },\r\n    data() {\r\n        return {\r\n            act: '',\r\n            pwd: '',\r\n            colorLogo: 'rgb(82, 81, 81)',\r\n        }\r\n    },\r\n    methods: {\r\n        toDoRegister() {\r\n            this.$router.push('/register');\r\n        },\r\n        async login() {\r\n            if (!this.act || !this.pwd) {\r\n                Vue.prototype.$swal.fire({\r\n                    title: '填写校验',\r\n                    text: '账号或密码不能为空',\r\n                    icon: 'error',\r\n                    showConfirmButton: false,\r\n                    timer: DELAY_TIME,\r\n                });\r\n                return;\r\n            }\r\n            const hashedPwd = md5(md5(this.pwd));\r\n            const paramDTO = { userAccount: this.act, userPwd: hashedPwd };\r\n            try {\r\n                const { data } = await request.post(`user/login`, paramDTO);\r\n                if (data.code !== 200) {\r\n                    Vue.prototype.$swal.fire({\r\n                        title: '登录失败',\r\n                        text: data.msg,\r\n                        icon: 'error',\r\n                        showConfirmButton: false,\r\n                        timer: DELAY_TIME,\r\n                    });\r\n                    return;\r\n                }\r\n                setToken(data.data.token);\r\n                setTimeout(() => {\r\n                    const { role } = data.data;\r\n                    this.navigateToRole(role);\r\n                }, DELAY_TIME);\r\n            } catch (error) {\r\n                console.error('登录请求错误:', error);\r\n                Vue.prototype.$message.error('登录请求出错，请重试！');\r\n            }\r\n        },\r\n        navigateToRole(role) {\r\n            switch (role) {\r\n                case 1:\r\n                    this.$router.push('/admin');\r\n                    break;\r\n                case 2:\r\n                    this.$router.push('/user');\r\n                    break;\r\n                default:\r\n                    console.warn('未知的角色类型:', role);\r\n                    break;\r\n            }\r\n        },\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n* {\r\n    user-select: none;\r\n}\r\n\r\n.login-container {\r\n    width: 100%;\r\n    min-height: 100vh;\r\n    background-image: url('/bg.jpg'); // 使用背景图片，根据实际项目中图片存放路径调整此处\r\n    background-size: cover;\r\n    background-position: right;\r\n    background-repeat: no-repeat;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n}\r\n\r\n.login-panel {\r\n    position: fixed; /* 或者 relative, fixed, sticky 等 */\r\n    top: 50px; /* 根据需要调整 */\r\n    right: 50px;\r\n    padding: 15px;\r\n    justify-content: space-between;\r\n    height: auto;\r\n    border-radius: 5px;\r\n    background: linear-gradient(to right, rgb(255, 255, 255), rgba(165, 174, 171, 0.8));\r\n    margin-right: 45px; // 确保.login-panel位于背景的右侧\r\n}\r\n\r\n.right-login {\r\n    width: 250px;\r\n    background-color: white;\r\n    padding: 30px;\r\n    border-radius: 5px;\r\n}\r\n\r\n.logo {\r\n    margin: 10px 0 30px 0;\r\n}\r\n\r\n.act,\r\n.pwd {\r\n    margin: 8px 0;\r\n    height: 63px;\r\n    line-height: 63px;\r\n    width: 100%;\r\n    font-size: 20px;\r\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n    font-weight: 800;\r\n    padding: 0 8px;\r\n    background-color: rgba(47, 195, 145, 0.15);\r\n    box-sizing: border-box;\r\n    border: 2px solid rgba(47, 195, 145, 0.3);\r\n    border-radius: 6px;\r\n    padding: 0 15px;\r\n    margin-top: 13px;\r\n}\r\n\r\n.act:focus,\r\n.pwd:focus {\r\n    outline: none;\r\n    transition: 1.2s;\r\n    background-color: rgba(47, 195, 145, 0.25);\r\n}\r\n\r\n.login-btn:hover {\r\n    background-color: rgba(47, 195, 145, 0.8);\r\n}\r\n\r\n.login-btn {\r\n    display: inline-block;\r\n    text-align: center;\r\n    border-radius: 3px;\r\n    margin-top: 20px;\r\n    height: 43px;\r\n    line-height: 43px;\r\n    width: 100%;\r\n    background-color: rgb(47, 195, 145);\r\n    font-size: 14px!important;\r\n    border: none;\r\n    color: white;\r\n    padding: 0!important;\r\n    cursor: pointer;\r\n    user-select: none;\r\n}\r\n\r\n.tip {\r\n    margin: 20px 0;\r\n\r\n    p {\r\n        padding: 3px 0;\r\n        margin: 0;\r\n        font-size: 14px;\r\n        color: rgb(100, 120, 100);\r\n        i {\r\n            margin-right: 3px;\r\n        }\r\n\r\n        span {\r\n            color: rgb(60, 80, 60);\r\n            border-radius: 2px;\r\n            margin: 0 6px;\r\n        }\r\n\r\n        .no-act:hover {\r\n            color: rgba(47, 195, 145, 0.8);\r\n            cursor: pointer;\r\n        }\r\n    }\r\n}\r\n</style>"]}]}