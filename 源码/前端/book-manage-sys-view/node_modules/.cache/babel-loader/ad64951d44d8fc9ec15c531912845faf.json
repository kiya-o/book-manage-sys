{"remainingRequest":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\babel-loader\\lib\\index.js!D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\src\\views\\admin\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\src\\views\\admin\\Main.vue","mtime":1735114549456},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\图书馆系统项目开发\\图书管理系统\\源码\\前端\\book-manage-sys-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IExpbmVDaGFydCBmcm9tICJAL2NvbXBvbmVudHMvTGluZUNoYXJ0IjsKaW1wb3J0IFBpZUNoYXJ0IGZyb20gIkAvY29tcG9uZW50cy9QaWVDaGFydCI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMaW5lQ2hhcnQsCiAgICBQaWVDaGFydAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyVmFsdWVzOiBbXSwKICAgICAgdXNlckRhdGVzOiBbXSwKICAgICAgbW9kZWxEYXRlczogW10sCiAgICAgIG1vZGVsVmFsdWVzOiBbXSwKICAgICAgcGllVmFsdWVzOiBbXSwKICAgICAgcGllVHlwZXM6IFtdLAogICAgICBub3RpY2VMaXN0OiBbXQogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgLy8g6buY6K6k5p+lN+WkqQogICAgdGhpcy51c2VyRGF0ZXNTZWxlY3RlZCgzNjUpOyAvLyDpu5jorqTmn6U35aSpCgogICAgdGhpcy5tb2RlbERhdGVzU2VsZWN0ZWQoMzY1KTsKICAgIHRoaXMubG9hZFBpZUNoYXJ0cygpOwogICAgdGhpcy5sb2FkTWVzc2FnZSgpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIC8vIOWKoOi9vea2iOaBr+aVsOaNrgogICAgbG9hZE1lc3NhZ2UoKSB7CiAgICAgIGNvbnN0IG1lc3NhZ2VRdWVyeUR0byA9IHsKICAgICAgICBjdXJyZW50OiAxLAogICAgICAgIHNpemU6IDQKICAgICAgfTsKICAgICAgdGhpcy4kYXhpb3MucG9zdChgL25vdGljZS9xdWVyeWAsIG1lc3NhZ2VRdWVyeUR0bykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSByZXNwb25zZTsKCiAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLm5vdGljZUxpc3QgPSBkYXRhLmRhdGE7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgbG9hZFBpZUNoYXJ0cygpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KGAvdmlld3Mvc3RhdGljQ29udHJvbHNgKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBkYXRhCiAgICAgICAgfSA9IHJlc3BvbnNlOwoKICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMucGllVmFsdWVzID0gZGF0YS5kYXRhLm1hcChlbnRpdHkgPT4gZW50aXR5LmNvdW50KTsKICAgICAgICAgIHRoaXMucGllVHlwZXMgPSBkYXRhLmRhdGEubWFwKGVudGl0eSA9PiBlbnRpdHkubmFtZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgbW9kZWxEYXRlc1NlbGVjdGVkKHRpbWUpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KGAvYm9vay9kYXlzUXVlcnkvJHt0aW1lfWApLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gcmVzcG9uc2U7CgogICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy5tb2RlbFZhbHVlcyA9IGRhdGEuZGF0YS5tYXAoZW50aXR5ID0+IGVudGl0eS5jb3VudCk7CiAgICAgICAgICB0aGlzLm1vZGVsRGF0ZXMgPSBkYXRhLmRhdGEubWFwKGVudGl0eSA9PiBlbnRpdHkubmFtZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgdXNlckRhdGVzU2VsZWN0ZWQodGltZSkgewogICAgICB0aGlzLiRheGlvcy5nZXQoYC91c2VyL2RheXNRdWVyeS8ke3RpbWV9YCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc3QgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSByZXNwb25zZTsKCiAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnVzZXJWYWx1ZXMgPSBkYXRhLmRhdGEubWFwKGVudGl0eSA9PiBlbnRpdHkuY291bnQpOwogICAgICAgICAgdGhpcy51c2VyRGF0ZXMgPSBkYXRhLmRhdGEubWFwKGVudGl0eSA9PiBlbnRpdHkubmFtZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,OAAA,SAAA,MAAA,wBAAA;AACA,OAAA,QAAA,MAAA,uBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,SAAA;AAAA,IAAA;AAAA,GADA;;AAEA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,UAAA,EAAA,EAHA;AAIA,MAAA,WAAA,EAAA,EAJA;AAKA,MAAA,SAAA,EAAA,EALA;AAMA,MAAA,QAAA,EAAA,EANA;AAOA,MAAA,UAAA,EAAA;AAPA,KAAA;AASA,GAZA;;AAaA,EAAA,OAAA,GAAA;AACA;AACA,SAAA,iBAAA,CAAA,GAAA,EAFA,CAGA;;AACA,SAAA,kBAAA,CAAA,GAAA;AACA,SAAA,aAAA;AACA,SAAA,WAAA;AACA,GApBA;;AAqBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,WAAA,GAAA;AACA,YAAA,eAAA,GAAA;AACA,QAAA,OAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA,WAAA,MAAA,CAAA,IAAA,CAAA,eAAA,EAAA,eAAA,EAAA,IAAA,CAAA,QAAA,IAAA;AACA,cAAA;AAAA,UAAA;AAAA,YAAA,QAAA;;AACA,YAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,eAAA,UAAA,GAAA,IAAA,CAAA,IAAA;AACA;AACA,OALA;AAMA,KAbA;;AAcA,IAAA,aAAA,GAAA;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,uBAAA,EAAA,IAAA,CAAA,QAAA,IAAA;AACA,cAAA;AAAA,UAAA;AAAA,YAAA,QAAA;;AACA,YAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,eAAA,SAAA,GAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,MAAA,IAAA,MAAA,CAAA,KAAA,CAAA;AACA,eAAA,QAAA,GAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,MAAA,IAAA,MAAA,CAAA,IAAA,CAAA;AACA;AACA,OANA;AAOA,KAtBA;;AAuBA,IAAA,kBAAA,CAAA,IAAA,EAAA;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,mBAAA,IAAA,EAAA,EAAA,IAAA,CAAA,QAAA,IAAA;AACA,cAAA;AAAA,UAAA;AAAA,YAAA,QAAA;;AACA,YAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,eAAA,WAAA,GAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,MAAA,IAAA,MAAA,CAAA,KAAA,CAAA;AACA,eAAA,UAAA,GAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,MAAA,IAAA,MAAA,CAAA,IAAA,CAAA;AACA;AACA,OANA;AAOA,KA/BA;;AAgCA,IAAA,iBAAA,CAAA,IAAA,EAAA;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,mBAAA,IAAA,EAAA,EAAA,IAAA,CAAA,QAAA,IAAA;AACA,cAAA;AAAA,UAAA;AAAA,YAAA,QAAA;;AACA,YAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,eAAA,UAAA,GAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,MAAA,IAAA,MAAA,CAAA,KAAA,CAAA;AACA,eAAA,SAAA,GAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,MAAA,IAAA,MAAA,CAAA,IAAA,CAAA;AACA;AACA,OANA;AAOA;;AAxCA;AArBA,CAAA","sourcesContent":["<template>\r\n    <div style=\"padding: 0 10px;overflow-y: hidden;overflow-x: hidden;\">\r\n        <el-row>\r\n            <el-col :span=\"8\">\r\n                <div style=\"padding: 10px;box-sizing: border-box;\">\r\n                    <PieChart fontColor=\"#000\" bag=\"rgb(224, 246, 239)\" tag=\"基础数据\" :values=\"pieValues\"\r\n                        :types=\"pieTypes\" />\r\n                </div>\r\n                <div style=\"padding: 20px 30px;box-sizing: border-box;\">\r\n                    <h3>最新公告</h3>\r\n                    <div style=\"background-color: rgb(224, 246, 239);border-radius: 5px;padding: 5px 10px;\">\r\n                        <div style=\"margin-bottom: 20px;margin-top: 5px;\" v-for=\"(notice, index) in noticeList\" :key=\"index\">\r\n                            <div style=\"margin: 5px 0;cursor: pointer;\">\r\n                                <span style=\"font-size: 14px;\">{{ notice.name }}</span>\r\n                            </div>\r\n                            <div>\r\n                                <span style=\"font-size: 14px;\">时间：{{ notice.createTime }}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                <div style=\"padding: 8px; box-sizing: border-box;\">\r\n                    <!-- 用户数图表的卡片式布局 -->\r\n                    <div style=\"width: 100%; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15); border-radius: 5px; overflow: hidden; margin-bottom: 10px;\">\r\n                        <div style=\"background-color: #f9f9f9; padding: 10px;\">\r\n                            <h4 style=\"margin: 0;\">用户数折线图</h4>\r\n                        </div>\r\n                        <LineChart height=\"280px\" tag=\"用户数\" @on-selected=\"userDatesSelected\" :values=\"userValues\"\r\n                            :date=\"userDates\" />\r\n                    </div>\r\n                    <!-- 图书上架情况图表的卡片式布局 -->\r\n                    <div style=\"width: 100%; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15); border-radius: 5px; overflow: hidden;\">\r\n                        <div style=\"background-color: #f9f9f9; padding: 10px;\">\r\n                            <h4 style=\"margin: 0;\">图书上架情况折线图</h4>\r\n                        </div>\r\n                        <LineChart height=\"280px\" tag=\"图书上架情况\" @on-selected=\"modelDatesSelected\" :values=\"modelValues\"\r\n                            :date=\"modelDates\" />\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n<script>\r\nimport LineChart from \"@/components/LineChart\"\r\nimport PieChart from \"@/components/PieChart\"\r\nexport default {\r\n    components: { LineChart, PieChart },\r\n    data() {\r\n        return {\r\n            userValues: [],\r\n            userDates: [],\r\n            modelDates: [],\r\n            modelValues: [],\r\n            pieValues: [],\r\n            pieTypes: [],\r\n            noticeList: []\r\n        }\r\n    },\r\n    created() {\r\n        // 默认查7天\r\n        this.userDatesSelected(365);\r\n        // 默认查7天\r\n        this.modelDatesSelected(365);\r\n        this.loadPieCharts();\r\n        this.loadMessage();\r\n    },\r\n    methods: {\r\n        // 加载消息数据\r\n        loadMessage() {\r\n            const messageQueryDto = {\r\n                current: 1,\r\n                size: 4\r\n            }\r\n            this.$axios.post(`/notice/query`, messageQueryDto).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.noticeList = data.data;\r\n                }\r\n            })\r\n        },\r\n        loadPieCharts() {\r\n            this.$axios.get(`/views/staticControls`).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.pieValues = data.data.map(entity => entity.count);\r\n                    this.pieTypes = data.data.map(entity => entity.name);\r\n                }\r\n            })\r\n        },\r\n        modelDatesSelected(time) {\r\n            this.$axios.get(`/book/daysQuery/${time}`).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.modelValues = data.data.map(entity => entity.count);\r\n                    this.modelDates = data.data.map(entity => entity.name);\r\n                }\r\n            })\r\n        },\r\n        userDatesSelected(time) {\r\n            this.$axios.get(`/user/daysQuery/${time}`).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.userValues = data.data.map(entity => entity.count);\r\n                    this.userDates = data.data.map(entity => entity.name);\r\n                }\r\n            })\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.status-success {\r\n    display: inline-block;\r\n    padding: 1px 5px;\r\n    border-radius: 2px;\r\n    background-color: rgb(201, 237, 249);\r\n    color: rgb(111, 106, 196);\r\n    font-size: 12px;\r\n}\r\n\r\n.status-error {\r\n    display: inline-block;\r\n    padding: 1px 5px;\r\n    border-radius: 2px;\r\n    background-color: rgb(233, 226, 134);\r\n    color: rgb(131, 138, 142);\r\n    color: rgb(111, 106, 196);\r\n    font-size: 12px;\r\n}\r\n</style>"],"sourceRoot":"src/views/admin"}]}